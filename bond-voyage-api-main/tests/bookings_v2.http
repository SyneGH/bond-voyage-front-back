@baseUrl = http://localhost:8087/api/v1
@userToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJmYTY3NDg0YS0yNWVkLTQxNDEtOWQ3YS03ODRhMTI1ODNlZmUiLCJlbWFpbCI6ImZlbGl4YW5nZWxvbWVsZ2FyNUBnbWFpbC5jb20iLCJwaG9uZU51bWJlciI6IjA5NjEyMTMzNTIwIiwicm9sZSI6IlVTRVIiLCJpYXQiOjE3NjYxNjI3MjAsImV4cCI6MTc2NjE2MzU2MH0.ZWQcfK5KBcSxfhB8SYj_-54a0E1pZ1SbRZp-glNGM2I
@adminToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkZmFiNGFhOC04MzA5LTRmNzktYmIxMi0zZGU0ZWYzMDIxOWMiLCJlbWFpbCI6ImFkbWluQGV4YW1wbGUuY29tIiwicGhvbmVOdW1iZXIiOiIrMTIzNDU2Nzg5MCIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc2NTgxOTQ3NywiZXhwIjoxNzY1ODIwMzE3fQ.-VprfvAlxE9t9gLUv5R4HUiAeglW7sPJVQHxBgWpzZc

# USER LOGIN
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "felixangelomelgar5@gmail.com",
  "password": "User@123"
}

###

# 1Ô∏è‚É£ Create Booking (POST)

POST {{baseUrl}}/bookings
Authorization: Bearer {{userToken}}
Content-Type: application/json

{
  "destination": "El Nido, Palawan",
  "startDate": "2024-06-01T00:00:00.000Z",
  "endDate": "2024-06-03T00:00:00.000Z",
  "travelers": 2,
  "totalPrice": 25000,
  "type": "CUSTOMIZED",
  "tourType": "PRIVATE",
  "itinerary": [
    {
      "dayNumber": 1,
      "date": "2024-06-01T00:00:00.000Z",
      "activities": [
        {
          "time": "08:00 AM",
          "title": "Airport Pickup",
          "order": 1
        }
      ]
    }
  ]
}

###

# 2Ô∏è‚É£ Get My Bookings (GET)

GET {{baseUrl}}/bookings/my-bookings?page=1&limit=5
Authorization: Bearer {{userToken}}

###

# 3Ô∏è‚É£ Get Booking Detail

GET {{baseUrl}}/bookings/f2a0cf9b-9858-4a6e-bb19-3f2a252b08f9
Authorization: Bearer {{userToken}}

###

# 4Ô∏è‚É£ Update Booking Itinerary (PUT)

PUT {{baseUrl}}/bookings/f2a0cf9b-9858-4a6e-bb19-3f2a252b08f9
Authorization: Bearer {{userToken}}
Content-Type: application/json

{
  "destination": "El Nido (Updated)",
  "startDate": "2024-06-02T00:00:00.000Z",
  "endDate": "2024-06-04T00:00:00.000Z",
  "travelers": 3,
  "totalPrice": 30000,
  "itinerary": [
    {
      "dayNumber": 1,
      "activities": [
        {
          "time": "09:00 AM",
          "title": "Island Hopping",
          "order": 1
        }
      ]
    }
  ]
}

###

# 5Ô∏è‚É£ Submit Booking (DRAFT ‚Üí PENDING)

PATCH {{baseUrl}}/bookings/f2a0cf9b-9858-4a6e-bb19-3f2a252b08f9/submit
Authorization: Bearer {{userToken}}

###

# 6Ô∏è‚É£ Admin: Get All Bookings

GET {{baseUrl}}/bookings/admin/bookings?status=PENDING
Authorization: Bearer {{adminToken}}

###

# 7Ô∏è‚É£ Admin: Reject Booking

PATCH {{baseUrl}}/bookings/469af005-dde3-402c-aac2-f154280e67a9/status
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "status": "REJECTED",
  "rejectionReason": "Dates fully booked",
  "rejectionResolution": "Select dates after June 10"
}

###

# 8Ô∏è‚É£ User: Edit After Rejection

PUT {{baseUrl}}/bookings/469af005-dde3-402c-aac2-f154280e67a9
Authorization: Bearer {{userToken}}
Content-Type: application/json

{
  "destination": "Coron, Palawan",
  "startDate": "2024-06-10T00:00:00.000Z",
  "endDate": "2024-06-12T00:00:00.000Z",
  "travelers": 2,
  "totalPrice": 27000,
  "itinerary": [
    {
      "dayNumber": 1,
      "activities": [
        {
          "time": "10:00 AM",
          "title": "Coron Island Tour",
          "order": 1
        }
      ]
    }
  ]
}

###

# 9Ô∏è‚É£ Cancel Booking

PATCH {{baseUrl}}/bookings/469af005-dde3-402c-aac2-f154280e67a9/cancel
Authorization: Bearer {{userToken}}

###

# üîü Delete Draft (Only if status = DRAFT)

DELETE {{baseUrl}}/bookings/71b4d0f8-be2b-4ad6-ad00-925a44d91f56
Authorization: Bearer {{userToken}}
